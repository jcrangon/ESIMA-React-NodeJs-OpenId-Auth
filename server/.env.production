# Mode / ports
PORT=3000
LOG_LEVEL=warning

# DB locales (hors Docker) ‚Äî facultatif mais utile si tu lances l‚ÄôAPI sans Docker
DATABASE_URL=postgresql://postgres:password@localhost:5432/appdb?serverVersion=17.2&charset=utf8
MONGO_URL=mongodb://root:password@localhost:27017/appdb

# Auth
JWT_ACCESS_SECRET=Changez_moi_avec_une_valeur_secr√®te_et_longue_pour_la_production_!
JWT_REFRESH_SECRET=Changez_moi_avec_une_valeur_secr√®te_et_longue_pour_la_production_!

ACCESS_TOKEN_TTL="1m"
REFRESH_TOKEN_TTL_SHORT="30m"
REFRESH_TOKEN_TTL_LONG="30d"

JWT_ISSUER=my-app
JWT_AUDIENCE=my-app-users

# Web
COOKIE_DOMAIN=localhost
CORS_ORIGIN=http://localhost:5173

# Fichiers
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE_MB=4

#crypto
BCRYPT_ROUNDS=10

#SMTP Mailer (pour envoi d‚Äôemails)
FRONTEND_RESET_URL=http://localhost:5173/auth/reset-password
SMTP_HOST=localhost
SMTP_PORT=25
SMTP_USER=smtp-test
SMTP_PASS=123456

#OIDC
KEYCLOAK_REALM=demo-realm
KEYCLOAK_ISSUER_URL=http://localhost:8082/realms/demo-realm
KEYCLOAK_CLIENT_ID=react-nodejs-blog-app
KEYCLOAK_CLIENT_SECRET=
KEYCLOAK_REDIRECT_URI=http://localhost:8080/auth/callback
FRONTEND_BASE_URL=http://localhost:5173

# ============================================================================
# üìò R√©sum√© p√©dagogique ‚Äî `.env.production` (Version mise √† jour)
# ----------------------------------------------------------------------------
# Ce fichier configure **l‚Äôenvironnement de production** :
#   ‚úÖ S√©curit√© renforc√©e
#   ‚úÖ Moins de logs (performance)
#   ‚úÖ R√©glages stricts sur la dur√©e de vie des tokens
#
# ‚ùå Il ne doit jamais √™tre pouss√© sur Git avec de vraies valeurs secrets !
#
# ----------------------------------------------------------------------------
# üîπ 1. Param√®tres g√©n√©raux
#
# PORT=3000
#   ‚ûú Port sur lequel le serveur √©coutera en production
#
# LOG_LEVEL=warning
#   ‚ûú Seules les alertes et erreurs s‚Äôaffichent
#      ‚Üí meilleure performance (pas de logs inutiles)
#
# ----------------------------------------------------------------------------
# üîπ 2. Bases de donn√©es
#
# DATABASE_URL & MONGO_URL
#   ‚ûú Connexions aux DB critiques
#   ‚ö†Ô∏è En production, ces URL doivent pointer :
#       - vers un serveur s√©curis√© (pas localhost !)
#       - avec un vrai mot de passe
#
# ----------------------------------------------------------------------------
# üîπ 3. Authentification (‚ö†Ô∏è Point critique)
#
# JWT_ACCESS_SECRET / JWT_REFRESH_SECRET
#   ‚ûú Cl√©s cryptographiques pour signer les tokens JWT
#
# ‚úÖ Doivent √™tre :
#     - fortes (‚â• 256 bits)
#     - g√©n√©r√©es al√©atoirement
#     - jamais connues publiquement
#
# ACCESS_TOKEN_TTL="1m"
#   üîê tr√®s court en production ‚Üí r√©duit la fen√™tre d‚Äôexploitation
#
# REFRESH_TOKEN_TTL="30m"
#   üîÑ dur√©e raisonnable pour ne pas se reconnecter trop souvent
#
# ----------------------------------------------------------------------------
# üîπ 4. Communication front/back
#
# COOKIE_DOMAIN
#   ‚ûú Doit pointer sur ton domaine public :
#      Exemple : `.monsite.fr`
#
# CORS_ORIGIN
#   ‚ûú Front autoris√© √† acc√©der √† l‚ÄôAPI
#   ‚ö†Ô∏è Toujours restreindre aux domaines de prod
#
# ----------------------------------------------------------------------------
# üîπ 5. Uploads & s√©curit√© serveur
#
# UPLOAD_DIR
#   ‚ûú Dossier s√©curis√© pour stocker les fichiers upload√©s
#
# MAX_UPLOAD_SIZE_MB=4
#   ‚ûú Limite stricte (protection contre DoS et saturation disque)
#
# ----------------------------------------------------------------------------
# ‚úÖ En r√©sum√©
#
# `.env.production` :
#   üîê prot√®ge les secrets
#   ‚öôÔ∏è assure la qualit√© et performance en production
#   üõ°Ô∏è limite drastiquement les risques d‚Äôattaque
#
# C‚Äôest le fichier le plus sensible du backend :
#   ‚ûú Bien configur√© = application fiable et s√©curis√©e ‚úÖ
#   ‚ûú Mal configur√© = portes ouvertes aux failles ‚ùå
#
# ============================================================================
